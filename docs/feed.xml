<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="zh"><generator uri="https://jekyllrb.com/" version="3.6.2">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" hreflang="zh" /><updated>2019-09-16T22:42:47-07:00</updated><id>http://localhost:4000/</id><title type="html">用中文编程</title><subtitle>尽量用中文编写代码. 包括中文命名, 汉化库, 汉化关键词, 新创中文语法的编程语言等等. Program in Chinese wherever possible. Including using Chinese naming in code, making API in Chinese, supporting Chinese keywords in existing programming languages, and creating new programming languages with Chinese grammar.</subtitle><entry><title type="html">手工翻译方舟编译器源码: IR相关节点类</title><link href="http://localhost:4000/%E5%91%BD%E5%90%8D/%E6%96%B9%E8%88%9F%E7%BC%96%E8%AF%91%E5%99%A8/2019/09/10/%E6%89%8B%E5%B7%A5%E7%BF%BB%E8%AF%91%E6%96%B9%E8%88%9F%E7%BC%96%E8%AF%91%E5%99%A8%E6%BA%90%E7%A0%81-IR%E7%9B%B8%E5%85%B3%E8%8A%82%E7%82%B9%E7%B1%BB.html" rel="alternate" type="text/html" title="手工翻译方舟编译器源码: IR相关节点类" /><published>2019-09-10T00:00:00-07:00</published><updated>2019-09-10T00:00:00-07:00</updated><id>http://localhost:4000/%E5%91%BD%E5%90%8D/%E6%96%B9%E8%88%9F%E7%BC%96%E8%AF%91%E5%99%A8/2019/09/10/%E6%89%8B%E5%B7%A5%E7%BF%BB%E8%AF%91%E6%96%B9%E8%88%9F%E7%BC%96%E8%AF%91%E5%99%A8%E6%BA%90%E7%A0%81:%20IR%E7%9B%B8%E5%85%B3%E8%8A%82%E7%82%B9%E7%B1%BB</id><content type="html" xml:base="http://localhost:4000/%E5%91%BD%E5%90%8D/%E6%96%B9%E8%88%9F%E7%BC%96%E8%AF%91%E5%99%A8/2019/09/10/%E6%89%8B%E5%B7%A5%E7%BF%BB%E8%AF%91%E6%96%B9%E8%88%9F%E7%BC%96%E8%AF%91%E5%99%A8%E6%BA%90%E7%A0%81-IR%E7%9B%B8%E5%85%B3%E8%8A%82%E7%82%B9%E7%B1%BB.html">&lt;p&gt;&lt;img src=&quot;http://localhost:4000/assets/2019-09-10_ark%E9%87%8D%E5%91%BD%E5%90%8DIR.png&quot; alt=&quot;2019-09-10_ark重命名IR&quot; /&gt;&lt;/p&gt;

&lt;p&gt;本系列进展跟踪帖: &lt;a href=&quot;https://github.com/program-in-chinese/overview/issues/166&quot;&gt;方舟编译器中文化的相关话题 · Issue #166 · program-in-chinese/overview&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;续上文: &lt;a href=&quot;https://zhuanlan.zhihu.com/p/81450947&quot;&gt;吴烜：手工翻译方舟编译器源码:尝试重命名标识符与文本&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;节点类中文化后的&lt;code class=&quot;highlighter-rouge&quot;&gt;opcodes.def&lt;/code&gt;节选如下:&lt;/p&gt;
&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;n&quot;&gt;OPCODE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dassign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;直接赋值节点类&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OPCODEISSTMT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;OPCODENOTMMPL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;OPCODEHASSSADEF&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;OPCODE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;maydassign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;直接赋值节点类&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OPCODEISSTMT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;OPCODENOTMMPL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;OPCODEHASSSADEF&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;OPCODE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;iassign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;间接赋值节点类&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OPCODEISSTMT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;OPCODENOTMMPL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;OPCODEHASSSADEF&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// hierarchical control flow opcodes
&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;OPCODE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;块节点类&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OPCODEISSTMT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;OPCODENOTMMPL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;OPCODE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;doloop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;循环节点类&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OPCODEISSTMT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;OPCODENOTMMPL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;OPCODE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dowhile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;While&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;声明节点类&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OPCODEISSTMT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;OPCODENOTMMPL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;OPCODE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;If&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;声明节点类&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OPCODEISSTMT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;OPCODENOTMMPL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;OPCODE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;While&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;声明节点类&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OPCODEISSTMT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;OPCODENOTMMPL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;OPCODE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;switch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Switch&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;节点类&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OPCODEISSTMT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;OPCODENOTMMPL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;OPCODE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;multiway&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;多路节点类&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OPCODEISSTMT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;OPCODENOTMMPL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;OPCODE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;foreachelem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;遍历元素节点类&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OPCODEISSTMT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;OPCODENOTMMPL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;完整在: &lt;a href=&quot;https://gitee.com/Program-in-Chinese/OpenArkCompiler/blob/master/src/maple_ir/include/opcodes.def&quot;&gt;src/maple_ir/include/opcodes.def · 中文编程/OpenArkCompiler - Gitee&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;仍可编译输出, 自带helloworld例程编译运行通过.&lt;/p&gt;

&lt;p&gt;期间发现几个文档中没说明的操作符, 问题已提交到官网: &lt;a href=&quot;https://code.opensource.huaweicloud.com/HarmonyOS/OpenArkCompiler/issues/168&quot;&gt;华为开源平台&lt;/a&gt;[👍, 刚收到官方回复]:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;语法是: fieldsdist &lt;int-prim-type&gt; &lt;type&gt; &lt;field-id1&gt; &lt;field-id2&gt;
这个opcode的作用是得到一个类型&lt;type&gt;里两个域&lt;field-id1&gt;和&lt;field-id2&gt;的距离。&lt;/field-id2&gt;&lt;/field-id1&gt;&lt;/type&gt;&lt;/field-id2&gt;&lt;/field-id1&gt;&lt;/type&gt;&lt;/int-prim-type&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;resolveinterfacefunc和resolvevirtualfunc这两个和fielddist都是编译器内部优化引入的，不在对外暴露和使用的IR内，所以没有放在MapleIRDesign中。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;另有几个问题:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;NaryStmtNode&lt;/code&gt;中的”Nary”不知何意.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;IntrinsiccallNode&lt;/code&gt;和&lt;code class=&quot;highlighter-rouge&quot;&gt;IntrinsicopNode&lt;/code&gt;中的”Intrinsic”还在斟酌对应中文, 欢迎建议.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;StmtNode&lt;/code&gt;重命名为”声明节点类”后, 编译报错: “undefined reference to “maple::FuncOptimizeImpl::ProcessBlock(声明节点类 *stmt)”, 不知是否与deplibs中的库有关. 暂时跳过此类.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;基本上重命名采取vscode中批量替换, 如果用change all occurrences, 好像只能替换当前文件中的引用. 除了&lt;code class=&quot;highlighter-rouge&quot;&gt;StmtNode&lt;/code&gt;之外没有发现重构导致的问题. 编译一次约用2分钟, 尚可接受.&lt;/p&gt;

&lt;p&gt;在中文化过程中, 通过阅读MapleIRDesign.md(希望早出中文版)对不同分类的IR节点有了初步理解, 操作符从接近汇编的到高层工作流(如循环/遍历)都有, 下面想试着了解一下整体编译过程. 如已有文章梳理请不吝告知!&lt;/p&gt;</content><author><name></name></author><summary type="html"></summary></entry><entry><title type="html">尝试方舟编译器下对Java中标识符中文命名</title><link href="http://localhost:4000/%E5%91%BD%E5%90%8D/%E6%96%B9%E8%88%9F%E7%BC%96%E8%AF%91%E5%99%A8/2019/09/08/%E5%B0%9D%E8%AF%95%E6%96%B9%E8%88%9F%E7%BC%96%E8%AF%91%E5%99%A8%E4%B8%8B%E5%AF%B9Java%E4%B8%AD%E6%A0%87%E8%AF%86%E7%AC%A6%E4%B8%AD%E6%96%87%E5%91%BD%E5%90%8D.html" rel="alternate" type="text/html" title="尝试方舟编译器下对Java中标识符中文命名" /><published>2019-09-08T00:00:00-07:00</published><updated>2019-09-08T00:00:00-07:00</updated><id>http://localhost:4000/%E5%91%BD%E5%90%8D/%E6%96%B9%E8%88%9F%E7%BC%96%E8%AF%91%E5%99%A8/2019/09/08/%E5%B0%9D%E8%AF%95%E6%96%B9%E8%88%9F%E7%BC%96%E8%AF%91%E5%99%A8%E4%B8%8B%E5%AF%B9Java%E4%B8%AD%E6%A0%87%E8%AF%86%E7%AC%A6%E4%B8%AD%E6%96%87%E5%91%BD%E5%90%8D</id><content type="html" xml:base="http://localhost:4000/%E5%91%BD%E5%90%8D/%E6%96%B9%E8%88%9F%E7%BC%96%E8%AF%91%E5%99%A8/2019/09/08/%E5%B0%9D%E8%AF%95%E6%96%B9%E8%88%9F%E7%BC%96%E8%AF%91%E5%99%A8%E4%B8%8B%E5%AF%B9Java%E4%B8%AD%E6%A0%87%E8%AF%86%E7%AC%A6%E4%B8%AD%E6%96%87%E5%91%BD%E5%90%8D.html">&lt;p&gt;之前承蒙这位测试, 方舟编译器支持Java下的中文命名标识符: &lt;a href=&quot;https://gitee.com/harmonyos/OpenArkCompiler/issues/I11R87#note_1975102&quot;&gt;跑不通的可参考Z乎的这篇文章，已找到一个可使测试用例编译通过的java-core库 · Issue #I11R87 · HarmonyOS/OpenArkCompiler - 码云 Gitee.com&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;为了确认之前(&lt;a href=&quot;https://zhuanlan.zhihu.com/p/81450947&quot;&gt;手工翻译方舟编译器源码:尝试重命名标识符与文本&lt;/a&gt;)的源码汉化不会影响编译, 自己也试试.&lt;/p&gt;

&lt;p&gt;编译方法参考: &lt;a href=&quot;https://zhuanlan.zhihu.com/p/81340230&quot;&gt;小乖他爹：方舟编译器学习笔记8 工具链可运行（helloworld编译成功）&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;注: 留意jbc2mpl命令需在libjava-core下运行, 否则报错”Unable to open java-core.jar”.&lt;/p&gt;

&lt;p&gt;编译helloworld后, 运行$java HelloWorld输出”Hello World!”无误.&lt;/p&gt;

&lt;p&gt;下面改为你好.java 如下:&lt;/p&gt;
&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;你好&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;吃了么!&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Makefile修改为:&lt;/p&gt;
&lt;div class=&quot;language-makefile highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;APP&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 你好
&lt;span class=&quot;err&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$(MAPLE_BUILD_CORE)/maple_test.mk&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;照前一样编译, 运行&lt;code class=&quot;highlighter-rouge&quot;&gt;$java 你好&lt;/code&gt;也正确输出”吃了么!” (09/13补: 貌似生成.class这步是用了OpenJDK而非方舟?)&lt;/p&gt;

&lt;p&gt;比较在意的是, 生成的.class文件小一些在预料之内, 但其他所有文件比英文的大一圈(如下):&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-rw-r--r-- 1 xw xw   534 Sep  8 03:25 HelloWorld.class
-rw-r--r-- 1 xw xw   790 Sep  8 03:25 HelloWorld.jar
-rw-r--r-- 1 xw xw   124 Sep  8 04:33 HelloWorld.java
-rw-r--r-- 1 xw xw  2442 Sep  8 03:47 HelloWorld.mpl
-rw-r--r-- 1 xw xw   488 Sep  8 03:47 HelloWorld.mplt
-rw-r--r-- 1 xw xw     0 Sep  8 03:47 HelloWorld.VtableImpl.groots.txt
-rw-r--r-- 1 xw xw 12517 Sep  8 03:47 HelloWorld.VtableImpl.mpl
-rw-r--r-- 1 xw xw   118 Sep  8 03:47 HelloWorld.VtableImpl.primordials.txt
-rw-r--r-- 1 xw xw 20520 Sep  8 03:47 HelloWorld.VtableImpl.s
-rw-r--r-- 1 xw xw    55 Sep  8 03:49 Makefile
-rw-r--r-- 1 xw xw   520 Sep  8 03:49 你好.class
-rw-r--r-- 1 xw xw  1248 Sep  8 03:49 你好.jar
-rw-r--r-- 1 xw xw   118 Sep  8 03:49 你好.java
-rw-r--r-- 1 xw xw  4370 Sep  8 03:49 你好.mpl
-rw-r--r-- 1 xw xw   712 Sep  8 03:49 你好.mplt
-rw-r--r-- 1 xw xw     0 Sep  8 03:49 你好.VtableImpl.groots.txt
-rw-r--r-- 1 xw xw 17231 Sep  8 03:49 你好.VtableImpl.mpl
-rw-r--r-- 1 xw xw   142 Sep  8 03:49 你好.VtableImpl.primordials.txt
-rw-r--r-- 1 xw xw 30927 Sep  8 03:49 你好.VtableImpl.s
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;有兴趣的可以先研究下.&lt;/p&gt;</content><author><name></name></author><summary type="html">之前承蒙这位测试, 方舟编译器支持Java下的中文命名标识符: 跑不通的可参考Z乎的这篇文章，已找到一个可使测试用例编译通过的java-core库 · Issue #I11R87 · HarmonyOS/OpenArkCompiler - 码云 Gitee.com</summary></entry><entry><title type="html">手工翻译方舟编译器源码:尝试重命名标识符与文本</title><link href="http://localhost:4000/%E5%91%BD%E5%90%8D/%E6%96%B9%E8%88%9F%E7%BC%96%E8%AF%91%E5%99%A8/2019/09/08/%E6%89%8B%E5%B7%A5%E7%BF%BB%E8%AF%91%E6%96%B9%E8%88%9F%E7%BC%96%E8%AF%91%E5%99%A8%E6%BA%90%E7%A0%81-%E5%B0%9D%E8%AF%95%E9%87%8D%E5%91%BD%E5%90%8D%E6%A0%87%E8%AF%86%E7%AC%A6%E4%B8%8E%E6%96%87%E6%9C%AC.html" rel="alternate" type="text/html" title="手工翻译方舟编译器源码:尝试重命名标识符与文本" /><published>2019-09-08T00:00:00-07:00</published><updated>2019-09-08T00:00:00-07:00</updated><id>http://localhost:4000/%E5%91%BD%E5%90%8D/%E6%96%B9%E8%88%9F%E7%BC%96%E8%AF%91%E5%99%A8/2019/09/08/%E6%89%8B%E5%B7%A5%E7%BF%BB%E8%AF%91%E6%96%B9%E8%88%9F%E7%BC%96%E8%AF%91%E5%99%A8%E6%BA%90%E7%A0%81:%E5%B0%9D%E8%AF%95%E9%87%8D%E5%91%BD%E5%90%8D%E6%A0%87%E8%AF%86%E7%AC%A6%E4%B8%8E%E6%96%87%E6%9C%AC</id><content type="html" xml:base="http://localhost:4000/%E5%91%BD%E5%90%8D/%E6%96%B9%E8%88%9F%E7%BC%96%E8%AF%91%E5%99%A8/2019/09/08/%E6%89%8B%E5%B7%A5%E7%BF%BB%E8%AF%91%E6%96%B9%E8%88%9F%E7%BC%96%E8%AF%91%E5%99%A8%E6%BA%90%E7%A0%81-%E5%B0%9D%E8%AF%95%E9%87%8D%E5%91%BD%E5%90%8D%E6%A0%87%E8%AF%86%E7%AC%A6%E4%B8%8E%E6%96%87%E6%9C%AC.html">&lt;p&gt;&lt;img src=&quot;http://localhost:4000/assets/2019-09-06_ark%E5%B0%9D%E8%AF%95%E9%87%8D%E5%91%BD%E5%90%8D.png&quot; alt=&quot;2019-09-06_ark尝试重命名&quot; /&gt;&lt;/p&gt;

&lt;p&gt;参考: &lt;a href=&quot;https://zhuanlan.zhihu.com/p/81046562&quot;&gt;小乖他爹：方舟编译器学习笔记6 方舟开源目录简介&lt;/a&gt;, 先从&lt;code class=&quot;highlighter-rouge&quot;&gt;maple.cpp&lt;/code&gt;入口代码开始中文化(与前作&lt;a href=&quot;https://zhuanlan.zhihu.com/p/50726829&quot;&gt;手工翻译Vue.js源码:尝试重命名标识符与文本&lt;/a&gt;类似), 作为初步的可行性实验.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/program-in-chinese/overview/issues/166#issuecomment-528321173&quot;&gt;之前&lt;/a&gt;以为编译输出文件在重命名标识符后不会有变化, 尝试后发现天真了. 于是现在仅检验是否能够编译通过.&lt;/p&gt;

&lt;p&gt;下面是中文化后的&lt;code class=&quot;highlighter-rouge&quot;&gt;src/maple_driver/src/maple.cpp&lt;/code&gt;代码:&lt;/p&gt;
&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;maple&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;报错&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;返回&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;返回&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;无误&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;退出帮助&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;退出&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;err&quot;&gt;错误&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;错误日志&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;因错误退出!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;非法参数&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;err&quot;&gt;错误&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;错误日志&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;非法参数!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;初始化失败&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;err&quot;&gt;错误&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;错误日志&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;初始化失败!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;文件未找到&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;err&quot;&gt;错误&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;错误日志&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;文件未找到!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;工具未找到&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;err&quot;&gt;错误&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;错误日志&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;工具未找到!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;编译失败&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;err&quot;&gt;错误&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;错误日志&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;编译失败!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;未实现&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;err&quot;&gt;错误&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;错误日志&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;未实现!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;maple&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;argc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;argv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;err&quot;&gt;选项类&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;选项&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;返回&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;选项&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;分析&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;argc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;argv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;返回&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;错误码&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;无误&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;返回&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;编译器工厂类&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;取个例&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;编译&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;选项&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;err&quot;&gt;报错&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;返回&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;返回&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;可按原官方编译方法编译通过的完整源码在: &lt;a href=&quot;https://gitee.com/Program-in-Chinese/OpenArkCompiler&quot;&gt;中文编程/OpenArkCompiler&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;下面打算参考&lt;a href=&quot;https://www.zhihu.com/question/343431810/answer/808816079&quot;&gt;如何看待方舟编译器于 2019 年 8 月 31 日开源？&lt;/a&gt;, 先对编译到AnalysisResult的部分进行中文化.&lt;/p&gt;

&lt;p&gt;注: 开发环境 – Ubuntu 18.04, &lt;a href=&quot;https://blog.csdn.net/weixin_42445727/article/details/81270916&quot;&gt;中文输入法&lt;/a&gt;, VS Code &amp;amp; 微软C++插件(标识符重命名有时不靠谱, 如&lt;code class=&quot;highlighter-rouge&quot;&gt;return ret&lt;/code&gt;, 重命名&lt;code class=&quot;highlighter-rouge&quot;&gt;ret&lt;/code&gt;会影响&lt;code class=&quot;highlighter-rouge&quot;&gt;return&lt;/code&gt;)&lt;/p&gt;</content><author><name></name></author><summary type="html"></summary></entry><entry><title type="html">用JS Search实现客户端JSON内容索引和搜索</title><link href="http://localhost:4000/%E5%91%BD%E5%90%8D/api/2019/07/31/%E7%94%A8JS-Search%E5%AE%9E%E7%8E%B0%E5%AE%A2%E6%88%B7%E7%AB%AFJSON%E5%86%85%E5%AE%B9%E7%B4%A2%E5%BC%95%E5%92%8C%E6%90%9C%E7%B4%A2.html" rel="alternate" type="text/html" title="用JS Search实现客户端JSON内容索引和搜索" /><published>2019-07-31T00:00:00-07:00</published><updated>2019-07-31T00:00:00-07:00</updated><id>http://localhost:4000/%E5%91%BD%E5%90%8D/api/2019/07/31/%E7%94%A8JS%20Search%E5%AE%9E%E7%8E%B0%E5%AE%A2%E6%88%B7%E7%AB%AFJSON%E5%86%85%E5%AE%B9%E7%B4%A2%E5%BC%95%E5%92%8C%E6%90%9C%E7%B4%A2</id><content type="html" xml:base="http://localhost:4000/%E5%91%BD%E5%90%8D/api/2019/07/31/%E7%94%A8JS-Search%E5%AE%9E%E7%8E%B0%E5%AE%A2%E6%88%B7%E7%AB%AFJSON%E5%86%85%E5%AE%B9%E7%B4%A2%E5%BC%95%E5%92%8C%E6%90%9C%E7%B4%A2.html">&lt;p&gt;为快速实现一个中文API搜索原型(&lt;a href=&quot;https://github.com/program-in-chinese/overview/issues/165&quot;&gt;中文API文档浏览器 · Issue #165 · program-in-chinese/overview&lt;/a&gt;), 使用了&lt;a href=&quot;https://github.com/bvaughn/js-search&quot;&gt;JS Search库&lt;/a&gt;, 参考&lt;a href=&quot;http://bvaughn.github.io/js-search/&quot;&gt;JS Search演示&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;演示地址: &lt;a href=&quot;http://codeinchinese.com/API%E4%B8%AD%E6%96%87%E7%B4%A2%E5%BC%95/%E4%B8%BB%E9%A1%B5.html&quot;&gt;API搜索演示&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;演示:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://localhost:4000/assets/2019-07-30_api%E6%90%9C%E7%B4%A2%E5%8E%9F%E5%9E%8B.gif&quot; alt=&quot;2019-07-30_api搜索原型&quot; /&gt;&lt;/p&gt;

&lt;p&gt;源码库: &lt;a href=&quot;https://github.com/program-in-chinese/team_website/tree/master/docs/API%E4%B8%AD%E6%96%87%E7%B4%A2%E5%BC%95&quot;&gt;program-in-chinese/team_website&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;部分JavaScript代码:&lt;/p&gt;
&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;重建索引&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;err&quot;&gt;搜索&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;JsSearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'包'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

  &lt;span class=&quot;err&quot;&gt;搜索&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tokenizer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;JsSearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;StopWordsTokenizer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;搜索&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tokenizer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;err&quot;&gt;搜索&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;indexStrategy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;JsSearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;AllSubstringsIndexStrategy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  
  &lt;span class=&quot;err&quot;&gt;搜索&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'类'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;err&quot;&gt;搜索&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'名'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

  &lt;span class=&quot;err&quot;&gt;搜索&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addDocuments&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;所有数据&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;进行搜索&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;原始输入&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;搜索框&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;关键字&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;原始输入&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;中英词典&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;原始输入&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;关键字&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;中英词典&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;原始输入&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;err&quot;&gt;搜索结果&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;搜索&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;关键字&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;err&quot;&gt;更新显示&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name></name></author><summary type="html">为快速实现一个中文API搜索原型(中文API文档浏览器 · Issue #165 · program-in-chinese/overview), 使用了JS Search库, 参考JS Search演示</summary></entry><entry><title type="html">Django例程</title><link href="http://localhost:4000/2019/07/03/django%E4%BE%8B%E7%A8%8B.note" rel="alternate" type="text/html" title="Django例程" /><published>2019-07-03T00:00:00-07:00</published><updated>2019-07-03T00:00:00-07:00</updated><id>http://localhost:4000/2019/07/03/django%E4%BE%8B%E7%A8%8B</id><content type="html" xml:base="http://localhost:4000/2019/07/03/django%E4%BE%8B%E7%A8%8B.note">```
$ python3 manage.py runserver
Watching for file changes with StatReloader
Performing system checks...

System check identified no issues (0 silenced).

You have 17 unapplied migration(s). Your project may not work properly until you apply the migrations for app(s): admin, auth, contenttypes, sessions.
Run 'python manage.py migrate' to apply them.

July 03, 2019 - 18:18:18
Django version 2.2.3, using settings 'django_mysite.settings'
Starting development server at http://127.0.0.1:8000/
Quit the server with CONTROL-C.
```

```
$ python3 manage.py migrate
Operations to perform:
  Apply all migrations: admin, auth, contenttypes, sessions
Running migrations:
  Applying contenttypes.0001_initial... OK
  Applying auth.0001_initial... OK
  Applying admin.0001_initial... OK
  Applying admin.0002_logentry_remove_auto_add... OK
  Applying admin.0003_logentry_add_action_flag_choices... OK
  Applying contenttypes.0002_remove_content_type_name... OK
  Applying auth.0002_alter_permission_name_max_length... OK
  Applying auth.0003_alter_user_email_max_length... OK
  Applying auth.0004_alter_user_username_opts... OK
  Applying auth.0005_alter_user_last_login_null... OK
  Applying auth.0006_require_contenttypes_0002... OK
  Applying auth.0007_alter_validators_add_error_messages... OK
  Applying auth.0008_alter_user_username_max_length... OK
  Applying auth.0009_alter_user_last_name_max_length... OK
  Applying auth.0010_alter_group_name_max_length... OK
  Applying auth.0011_update_proxy_permissions... OK
  Applying sessions.0001_initial... OK
```

```
$ python3 manage.py makemigrations 投票
```
```
ModuleNotFoundError: No module named '投票.apps.投票Configdjango'; '投票.apps' is not a package
```
少了末尾的逗号:
```
    '投票.apps.投票Config'&lt;---这里
```
加上后:
```
$ python3 manage.py makemigrations 投票
Migrations for '投票':
  投票/migrations/0001_initial.py
    - Create model 问题
    - Create model 选项
$ python3 manage.py sqlmigrate 投票 0001
BEGIN;
--
-- Create model 问题
--
CREATE TABLE &quot;投票_问题&quot; (&quot;id&quot; integer NOT NULL PRIMARY KEY AUTOINCREMENT, &quot;内容&quot; varchar(200) NOT NULL, &quot;发问日期&quot; datetime NOT NULL);
--
-- Create model 选项
--
CREATE TABLE &quot;投票_选项&quot; (&quot;id&quot; integer NOT NULL PRIMARY KEY AUTOINCREMENT, &quot;内容&quot; varchar(200) NOT NULL, &quot;票数&quot; integer NOT NULL, &quot;问题_id&quot; integer NOT NULL REFERENCES &quot;投票_问题&quot; (&quot;id&quot;) DEFERRABLE INITIALLY DEFERRED);
CREATE INDEX &quot;投票_选项_问题_id_4c48b252&quot; ON &quot;投票_选项&quot; (&quot;问题_id&quot;);
COMMIT;
$ python3 manage.py migrate
Operations to perform:
  Apply all migrations: admin, auth, contenttypes, sessions, 投票
Running migrations:
  Applying 投票.0001_initial... OK
```

数据库API
```
$ python3 manage.py shell
Python 3.7.3 (v3.7.3:ef4ec6ed12, Mar 25 2019, 16:52:21) 
[Clang 6.0 (clang-600.0.57)] on darwin
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
(InteractiveConsole)
&gt;&gt;&gt; from 投票.models import 选项, 问题
&gt;&gt;&gt; 问题.Objects.all()
Traceback (most recent call last):
  File &quot;&lt;console&gt;&quot;, line 1, in &lt;module&gt;
AttributeError: type object '问题' has no attribute 'Objects'
&gt;&gt;&gt; 问题.objects.all()
&lt;QuerySet []&gt;
&gt;&gt;&gt; from django.utils import timezone
&gt;&gt;&gt; 问 = 问题(内容=&quot;最近咋样?&quot;, 发问日期=timezone.now())
&gt;&gt;&gt; 问.save()
&gt;&gt;&gt; 问.id
1
&gt;&gt;&gt; 问.内容
'最近咋样?'
&gt;&gt;&gt; 问.发问日期
datetime.datetime(2019, 7, 3, 19, 8, 27, 215031, tzinfo=&lt;UTC&gt;)
&gt;&gt;&gt; 问.内容=&quot;最近可好?&quot;
&gt;&gt;&gt; 问.save()
&gt;&gt;&gt; 问题.objects.all()
&lt;QuerySet [&lt;问题: 问题 object (1)&gt;]&gt;
```

添加`刚发问`接口:
```
$ python3 manage.py shell
Python 3.7.3 (v3.7.3:ef4ec6ed12, Mar 25 2019, 16:52:21) 
[Clang 6.0 (clang-600.0.57)] on darwin
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
(InteractiveConsole)
&gt;&gt;&gt; 问题.objects.all()
Traceback (most recent call last):
  File &quot;&lt;console&gt;&quot;, line 1, in &lt;module&gt;
NameError: name '问题' is not defined
&gt;&gt;&gt; from 投票.models import 选项, 问题
&gt;&gt;&gt; 问题.objects.all()
&lt;QuerySet [&lt;问题: 最近可好?&gt;]&gt;
&gt;&gt;&gt; 问题.objects.filter(id=1)
&lt;QuerySet [&lt;问题: 最近可好?&gt;]&gt;
&gt;&gt;&gt; 问题.objects.filter(内容__startswith='最')
&lt;QuerySet [&lt;问题: 最近可好?&gt;]&gt;
&gt;&gt;&gt; from django.utils import timezone
&gt;&gt;&gt; 今年=timezone.now().year
&gt;&gt;&gt; 
&gt;&gt;&gt; 问题.objects.get(发问日期__year=今年)
&lt;问题: 最近可好?&gt;
&gt;&gt;&gt; 问题.objects.get(id=2)
Traceback (most recent call last):
  File &quot;&lt;console&gt;&quot;, line 1, in &lt;module&gt;
  File &quot;/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/django/db/models/manager.py&quot;, line 82, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File &quot;/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/django/db/models/query.py&quot;, line 408, in get
    self.model._meta.object_name
投票.models.问题.DoesNotExist: 问题 matching query does not exist.
&gt;&gt;&gt; 问问
&gt;&gt;&gt; 问=问题.objects.get(pk=1)
&gt;&gt;&gt; 问.刚发问()
True
&gt;&gt;&gt; 问.选项_set.all()
&lt;QuerySet []&gt;
&gt;&gt;&gt; 问.选项_set.create(内容='没啥', 票数=0)
&lt;选项: 没啥&gt;
&gt;&gt;&gt; 问.选项_set.create(内容='看天', 票数=0)
&lt;选项: 看天&gt;
&gt;&gt;&gt; 选选-问.选项_set.create(内容='打字', 数=0)
Traceback (most recent call last):
  File &quot;&lt;console&gt;&quot;, line 1, in &lt;module&gt;
NameError: name '选' is not defined
&gt;&gt;&gt; 选问问选项_set.create(内容='打字', 票数=0)
&gt;&gt;&gt; 选.问题
&lt;问题: 最近可好?&gt;
&gt;&gt;&gt; 问.选项_set.all()
&lt;QuerySet [&lt;选项: 没啥&gt;, &lt;选项: 看天&gt;, &lt;选项: 打字&gt;]&gt;
&gt;&gt;&gt; 问.选项_set.count()
3
&gt;&gt;&gt; 选项.objects.filter(问题__发问日期__year=今年)
&lt;QuerySet [&lt;选项: 没啥&gt;, &lt;选项: 看天&gt;, &lt;选项: 打字&gt;]&gt;
&gt;&gt;&gt; 选=问.选项_set.filter(内容__startswith='打')
&gt;&gt;&gt; 选.delete()
(1, {'投票.选项': 1})
&gt;&gt;&gt; 选项.objects.filter(问题__发问日期__year=今年)
&lt;QuerySet [&lt;选项: 没啥&gt;, &lt;选项: 看天&gt;]&gt;
```</content><author><name></name></author><summary type="html"></summary></entry><entry><title type="html">从立创EDA，Gratipay看中文编程开发环境和推广运营的一个趋势</title><link href="http://localhost:4000/%E5%B0%8F%E7%BB%93/2019/07/01/%E4%BB%8E%E7%AB%8B%E5%88%9BEDA-Gratipay%E7%9C%8B%E4%B8%AD%E6%96%87%E7%BC%96%E7%A8%8B%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E5%92%8C%E6%8E%A8%E5%B9%BF%E8%BF%90%E8%90%A5%E7%9A%84%E4%B8%80%E4%B8%AA%E8%B6%8B%E5%8A%BF.html" rel="alternate" type="text/html" title="从立创EDA，Gratipay看中文编程开发环境和推广运营的一个趋势" /><published>2019-07-01T00:00:00-07:00</published><updated>2019-07-01T00:00:00-07:00</updated><id>http://localhost:4000/%E5%B0%8F%E7%BB%93/2019/07/01/%E4%BB%8E%E7%AB%8B%E5%88%9BEDA,Gratipay%E7%9C%8B%E4%B8%AD%E6%96%87%E7%BC%96%E7%A8%8B%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E5%92%8C%E6%8E%A8%E5%B9%BF%E8%BF%90%E8%90%A5%E7%9A%84%E4%B8%80%E4%B8%AA%E8%B6%8B%E5%8A%BF</id><content type="html" xml:base="http://localhost:4000/%E5%B0%8F%E7%BB%93/2019/07/01/%E4%BB%8E%E7%AB%8B%E5%88%9BEDA-Gratipay%E7%9C%8B%E4%B8%AD%E6%96%87%E7%BC%96%E7%A8%8B%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E5%92%8C%E6%8E%A8%E5%B9%BF%E8%BF%90%E8%90%A5%E7%9A%84%E4%B8%80%E4%B8%AA%E8%B6%8B%E5%8A%BF.html">&lt;p&gt;前不久听说&lt;a href=&quot;https://zhuanlan.zhihu.com/p/32744735&quot;&gt;立创EDA&lt;/a&gt;，对比之前的讨论: &lt;a href=&quot;https://github.com/program-in-chinese/overview/issues/11&quot;&gt;适合中文用户的编程语言和IDE, 侧重于现有语言/IDE不具备的特性 · Issue #11 · program-in-chinese/overview&lt;/a&gt;，觉得颇有共鸣。&lt;/p&gt;

&lt;h3 id=&quot;库管理和共享&quot;&gt;库管理和共享&lt;/h3&gt;

&lt;p&gt;虽然EDA开发和传统软件开发看起来相去甚远，但一个很大的共通点是，硬件库和软件库的管理和共享。软件本来源于硬件，库自然也存在依赖关系，EDA中的元件库，类似于编程语言的标准库和第三方库。&lt;/p&gt;

&lt;p&gt;立创的开发环境集成了&lt;strong&gt;库管理和分享功能&lt;/strong&gt;，这是一个降低入门门槛、提高开发效率进而迅速积累人气的强大优势。&lt;/p&gt;

&lt;p&gt;现有的英文编程语言，多数是语言与IDE分离，在IDE中同时提供库管理加上开发者共享库功能的并不多见。&lt;/p&gt;

&lt;p&gt;– 7/3 补: 经指点，有类似紧密集成语言和库管理的例子，如微软.NET的&lt;a href=&quot;https://docs.microsoft.com/en-us/nuget/what-is-nuget&quot;&gt;NuGet&lt;/a&gt;也集成在了Visual Studio。个人认为也佐证这项功能的重要性。&lt;/p&gt;

&lt;p&gt;中文编程语言和开发环境，作为后起，需要利用各种加速积累人气的功能。&lt;strong&gt;库管理和分享功能看来是其中之一。&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&quot;运营和筹款&quot;&gt;运营和筹款&lt;/h3&gt;

&lt;p&gt;这几天恰好得知一个开放项目在讨论筹资方式，觉得有些共通性，一并说说。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.zhihu.com/question/27858574/answer/190813491&quot;&gt;几年前&lt;/a&gt;参与过一个很特别的项目Gratipay。它的理念是不仅代码开源，而且运营决策和财务都尽量在公开平台进行。它自身的产品就是一个众筹平台，而且筹款主要通过自己的平台进行。这个公司由于种种原因未能延续，但经验教训可供借鉴。&lt;/p&gt;

&lt;p&gt;它的创始人最后写的回顾文章在&lt;a href=&quot;https://gratipay.news/the-end-cbfba8f50981&quot;&gt;这里&lt;/a&gt;。注意它是曾经有过指数增长期的，但2015年有断崖事故，具体可以自行了解。下面只是我参与后的一些状况。&lt;/p&gt;

&lt;p&gt;主要参与的是财务方面，包括预算清理、收支数据整理和可视化等等。在2016年末刚参与时，就想首先了解财务状况。账面余额之外，还需要了解支出的细节，包括办公地点租金、使用第三方服务的开销等等。于是开始了持续了几个月的&lt;a href=&quot;https://github.com/gratipay/inside.gratipay.com/issues/928&quot;&gt;整理和优化&lt;/a&gt;。由于都是通过网络联系，各地的参与者意见整合都使这个过程更久。下面是一些节流效果：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;有些第三方服务并不属于必需，或者只需基本功能（更便宜的月费）&lt;/li&gt;
  &lt;li&gt;有些服务对开源项目有特别照顾，由于Gratipay的开源性质和历史，往往这些服务都很快通过了免费请求的申请。期间还提出了一个对这些提供”资助“的对开源项目友好的服务商&lt;a href=&quot;https://github.com/gratipay/inside.gratipay.com/issues/950&quot;&gt;进行推介的想法&lt;/a&gt;，可惜没有成型。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;省下的经费，一部分投入了其他更需要的服务，或者对其他服务进行捐款（比如&lt;a href=&quot;https://github.com/gratipay/inside.gratipay.com/issues/928#issuecomment-285506054&quot;&gt;Read the Docs&lt;/a&gt;)。&lt;/p&gt;

&lt;p&gt;在收支数据方面，主要是通过一个基于文本的会计软件BeanCount进行了尝试：&lt;a href=&quot;https://github.com/gratipay/finances/pull/35&quot;&gt;Port to Beancount by chadwhitacre · Pull Request #35 · gratipay/finances&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;简单说说在预算和收支方面的个人体会：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;公开平台讨论运营当然有好处，但副效应就是人多嘴杂，能够干实事的在任何时候都是少数。&lt;/li&gt;
  &lt;li&gt;开源项目加开放运营，已经够另类和边缘。这种情况下，需要争取任何可以争取的资源，开源节流必须都要抓。很难想象这个项目开始了四年之久但除了报税之外没有非常规整的流水和定期的预算审核。&lt;/li&gt;
  &lt;li&gt;财务数据虽然一直打算公开，但一直没有合适的软件进行可视化，也没有与主网站进行整合，导致财务透明这一项本来非常独特也很有区别度的产品/企业特色没有起到应有的作用。&lt;/li&gt;
  &lt;li&gt;在筹款方面，单一倚靠众筹。原本的思路是，Gratipay这个众筹平台可供所有开源项目的作者进行众筹，而Gratipay平台本身也是自己的客户。但这就导致，收入完全依赖于众筹平台本身的推广程度。而开源项目毕竟是小众，相对于其他的众筹平台，总用户和捐款数完全不在一个数量级。创始人希望从这其中通过完全平等的身份分得一部分，而不是使用类似”收税“的方式，这也有很大的不确定性。&lt;/li&gt;
  &lt;li&gt;多数项目参与者都是志愿者，由于每周仅有几百美元众筹收入，除了维持服务之外，几乎没有盈余。所以多数人很长时间内都只是非常象征性的拿些”咖啡钱“，包括主创。收入分配方面，话就长了（也是一个独特之处），以后可以另说。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;说回立创，对比上面第四点，通过免费版积攒巨大的用户基础，通过收费版本提供更多专业服务。一方面给出了非常明确的”为什么花这钱“的理由，另一方面收费版是通过按人/天收费，给了足够付费灵活度，更关键的是有了相对稳定的收入流（毕竟这月缴费下个月停缴的是少数）。&lt;/p&gt;

&lt;p&gt;再说说1-3点，下面想哪说哪。&lt;/p&gt;

&lt;p&gt;一旦选择公开运营，就要准备好应对各种不同声音，尤其是牵涉到资金使用的问题。最好一开始就建立一套比较合规的会计流程，为定期讨论预算、收支等等提供基础。&lt;/p&gt;

&lt;p&gt;通过网络的合作有很大的延迟，各种讨论经常是等你一天，等他一天，一会就是几周过去。这对项目进度管控是很大的考验。&lt;/p&gt;

&lt;p&gt;在GitHub这样的平台讨论有一个好处，就是随时可以@到各种相关服务/工具的开发者。比如在用Beancount的时候，就拉进了它的原作者作为顾问。这样的平台很助力交流。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;开源/开放项目的最大优势，在于项目透明度&lt;/strong&gt;，以及由此形成的相比其他平台更稳固的用户基础（因为有更高的信任度）。上面的收支情况如果公开，也可以进一步增加透明度，因此最好尽可能利用这一优势，比如把收支、盈亏情况在主页进行公示，提供链接了解更多细节等等。&lt;/p&gt;

&lt;p&gt;团队都是志愿者的情况下，大家往往图的都不是钱（至少不是眼前的钱）。那么如何激励参与呢？包括原本的团队成员，也需要持续的动力。个人认为，一个“成果单”可以提供非物质激励，比如每月写出团队各人对项目进展的贡献（甚至包括一些代码链接）。对个人来说，可以看到一路以来对项目的投入；对其他人（包括外人）来说，也可以了解团队中其他人都在做什么。有一定影响之后，甚至可以通过公开招聘一些暑假实习生，好处是，他们的贡献都可以直接体现在这份成果单中。而成果单的公开透明也可以保证相对公正。&lt;/p&gt;

&lt;p&gt;内部团队建设之外，与合作的第三方联系很重要。尤其是上下游合作者和服务提供商（尤其是提供了某种程度资助的），有条件的话应该借助自身平台和影响力，有忙就帮（包括在网站进行某种感谢/公示），尽量扩大企业/实体层面的朋友圈。&lt;/p&gt;

&lt;p&gt;开源和开放，对于中文编程语言和开发环境来说，现在看来是必由之路。上面的经验教训，希望对来者有所裨益。&lt;/p&gt;</content><author><name></name></author><summary type="html">前不久听说立创EDA，对比之前的讨论: 适合中文用户的编程语言和IDE, 侧重于现有语言/IDE不具备的特性 · Issue #11 · program-in-chinese/overview，觉得颇有共鸣。</summary></entry><entry><title type="html">Python3中文命名</title><link href="http://localhost:4000/2019/06/18/Python3%E4%B8%AD%E6%96%87%E5%91%BD%E5%90%8D.html" rel="alternate" type="text/html" title="Python3中文命名" /><published>2019-06-18T00:00:00-07:00</published><updated>2019-06-18T00:00:00-07:00</updated><id>http://localhost:4000/2019/06/18/Python3%E4%B8%AD%E6%96%87%E5%91%BD%E5%90%8D</id><content type="html" xml:base="http://localhost:4000/2019/06/18/Python3%E4%B8%AD%E6%96%87%E5%91%BD%E5%90%8D.html">&lt;p&gt;分类：科技
已经十多年了! 你知道Python3可以用中文命名变量吗?&lt;/p&gt;

&lt;p&gt;Python3本身支持中文命名类/方法/变量
任何额外的库和工具都不需要，不需要，不需要！重要的话三遍。Python3本身就可以正确运行下面的代码：&lt;/p&gt;

&lt;p&gt;请输入图片描述&lt;/p&gt;

&lt;p&gt;补一句, 不光是Python3支持中文命名哦，以后一个一个语言讲过来，九成九你用的编程语言也支持。&lt;/p&gt;

&lt;p&gt;下面是一个Python实用小程序的代码片段：&lt;/p&gt;

&lt;p&gt;请输入图片描述&lt;/p&gt;

&lt;p&gt;Python3为什么支持非ASCII码命名标识符
Python2并不支持非ASCII码标识符。于2008年12月发布的Python3开始支持。2008年！也就是十多年前。现在还不知道的话，你就OUT大了。&lt;/p&gt;

&lt;p&gt;创建于2007年5月的Python增强提案PEP 3131 – Supporting Non-ASCII Identifiers阐述了支持非ASCII码命名标识符的缘由。Rationale (依据) 一节开篇明义，指出很多Python开发者并不熟悉英语，更希望用母语对类/方法进行命名，而不是用经常有误的英文翻译。对使用同样母语的开发者来说，用母语命名的标识符可以提高代码清晰度和可维护性。&lt;/p&gt;

&lt;p&gt;Python code is written by many people in the world who are not familiar with the English language, or even well-acquainted with the Latin writing system. Such developers often desire to define classes and functions with names in their native languages, rather than having to come up with an (often incorrect) English translation of the concept they want to name. By using identifiers in their native language, code clarity and maintainability of the code among speakers of that language improves.&lt;/p&gt;

&lt;p&gt;更多用中文编程的教程和演示，请关注“用中文编程”微信公众号。&lt;/p&gt;</content><author><name></name></author><summary type="html">分类：科技 已经十多年了! 你知道Python3可以用中文命名变量吗?</summary></entry><entry><title type="html">编程教程中的英文示例翻译成中文命名看看？想不到原来是这意思！</title><link href="http://localhost:4000/2019/05/29/%E7%BC%96%E7%A8%8B%E6%95%99%E7%A8%8B%E4%B8%AD%E7%9A%84%E8%8B%B1%E6%96%87%E7%A4%BA%E4%BE%8B%E7%BF%BB%E8%AF%91%E6%88%90%E4%B8%AD%E6%96%87%E5%91%BD%E5%90%8D%E7%9C%8B%E7%9C%8B-%E6%83%B3%E4%B8%8D%E5%88%B0%E5%8E%9F%E6%9D%A5%E6%98%AF%E8%BF%99%E6%84%8F%E6%80%9D.html" rel="alternate" type="text/html" title="编程教程中的英文示例翻译成中文命名看看？想不到原来是这意思！" /><published>2019-05-29T00:00:00-07:00</published><updated>2019-05-29T00:00:00-07:00</updated><id>http://localhost:4000/2019/05/29/%E7%BC%96%E7%A8%8B%E6%95%99%E7%A8%8B%E4%B8%AD%E7%9A%84%E8%8B%B1%E6%96%87%E7%A4%BA%E4%BE%8B%E7%BF%BB%E8%AF%91%E6%88%90%E4%B8%AD%E6%96%87%E5%91%BD%E5%90%8D%E7%9C%8B%E7%9C%8B%3F%E6%83%B3%E4%B8%8D%E5%88%B0%E5%8E%9F%E6%9D%A5%E6%98%AF%E8%BF%99%E6%84%8F%E6%80%9D!</id><content type="html" xml:base="http://localhost:4000/2019/05/29/%E7%BC%96%E7%A8%8B%E6%95%99%E7%A8%8B%E4%B8%AD%E7%9A%84%E8%8B%B1%E6%96%87%E7%A4%BA%E4%BE%8B%E7%BF%BB%E8%AF%91%E6%88%90%E4%B8%AD%E6%96%87%E5%91%BD%E5%90%8D%E7%9C%8B%E7%9C%8B-%E6%83%B3%E4%B8%8D%E5%88%B0%E5%8E%9F%E6%9D%A5%E6%98%AF%E8%BF%99%E6%84%8F%E6%80%9D.html">&lt;p&gt;更多用中文编写代码的技术文章，请关注本号。&lt;/p&gt;

&lt;p&gt;前几天有幸看到Quora不久前的一个回复: Has any serious project been written in a non-English-based programming language? （有没有非英文编程语言写的项目？）&lt;/p&gt;

&lt;p&gt;得知西门子和爱立信内部都有使用母语命名的C/C++代码(德语/瑞典语). 原文如下:&lt;/p&gt;

&lt;p&gt;At both Siemens (German) and Ericsson (Swedish), I have seen programs written in C, and C++ where the only English words are the keywords. So if, new, else, for and the standard libraries like std::vector&amp;lt;&amp;gt;
Everything else was in German or Swedish.
另外, 答者还提到在布拉格碰到过一本Java编程书, 也是用非英语进行命名写的示例代码.&lt;/p&gt;

&lt;p&gt;以母语命名可读性强的优势, 照理说编程教程应该是非常适合这一实践的. 那么来试试:&lt;/p&gt;

&lt;p&gt;图片描述(最多50字)
观感如何? 个人觉得是非常一目了然, 但代码本身自带不少槽点，和生活现实相去甚远。&lt;/p&gt;

&lt;p&gt;下面看看英文原版(Effective Java第三版, Item 34的例程):&lt;/p&gt;

&lt;p&gt;图片描述(最多50字)
意思一样, 但是不是看上去有了些”距离感”, 槽点似乎就没那么明显了, 尤其不会有太多代入感. 可以想见, 在翻译英文原著时, 译者对代码本身的命名进行中文化也许会吃力却讨不到多少好.&lt;/p&gt;

&lt;p&gt;翻了也许会有其他麻烦的还有这种(同一本书, Item 68):&lt;/p&gt;

&lt;p&gt;图片描述(最多50字)
还有这种(Item 4):&lt;/p&gt;

&lt;p&gt;String s = “bikini”;
至于下面这个例子(Item 34), 问题是想翻译都只能找到音译词, 也许还不如不翻. 而且, 在示例代码里用”桔子”, “苹果”之类在外文编程书籍中屡见不鲜, 但如果真用在中文代码中, 似乎第一感觉就有点幼稚.&lt;/p&gt;

&lt;p&gt;public enum Apple  { FUJI, PIPPIN, GRANNY_SMITH }
public enum Orange { NAVEL, TEMPLE, BLOOD }
还有一种问题比如(Programming in Scala 第三版, 7.5节):&lt;/p&gt;

&lt;p&gt;图片描述(最多50字)
直译过来是:&lt;/p&gt;

&lt;p&gt;图片描述(最多50字)
这几个词对于不大了解西方饮食习惯的读者来说, 读起来完全没有感觉. 与其费口舌在注解里普及西方文化, 也许改成这样更自然:&lt;/p&gt;

&lt;p&gt;图片描述(最多50字)
但这比起翻译本身来, 又多了不少工作量, 估计还很难获得原作者的同意. 当然, 如果是自编文献, 就没有原作的限制了, 但就像之前的例子所示, 恐怕选材和尺度都会比用英文代码更加敏感.&lt;/p&gt;

&lt;p&gt;类似的, 在项目中使用中文命名也比英文命名更需要推敲. 随手写个奇怪的英文名看起来也许不那么显眼, 但用了中文, 就会非常扎眼. 所谓”文如其人”, 也许语文的实用性会随着中文编程的推广而逐渐回归.&lt;/p&gt;

&lt;p&gt;更多中文编程推广过程内情，请关注“用中文编程”微信公众号。&lt;/p&gt;</content><author><name></name></author><summary type="html">更多用中文编写代码的技术文章，请关注本号。</summary></entry><entry><title type="html">对中文命名的质疑之二</title><link href="http://localhost:4000/2019/05/22/%E5%AF%B9%E4%B8%AD%E6%96%87%E5%91%BD%E5%90%8D%E7%9A%84%E8%B4%A8%E7%96%91%E4%B9%8B%E4%BA%8C.note" rel="alternate" type="text/html" title="对中文命名的质疑之二" /><published>2019-05-22T00:00:00-07:00</published><updated>2019-05-22T00:00:00-07:00</updated><id>http://localhost:4000/2019/05/22/%E5%AF%B9%E4%B8%AD%E6%96%87%E5%91%BD%E5%90%8D%E7%9A%84%E8%B4%A8%E7%96%91%E4%B9%8B%E4%BA%8C</id><content type="html" xml:base="http://localhost:4000/2019/05/22/%E5%AF%B9%E4%B8%AD%E6%96%87%E5%91%BD%E5%90%8D%E7%9A%84%E8%B4%A8%E7%96%91%E4%B9%8B%E4%BA%8C.note">0. 为何不把关键字改成中文
1. 为何不把阿拉伯数字改成中文数字 -- 因为数字只有十个，英文单词有成千上万，
2. 键盘还是英文的
3. 中英文没区别 -- 改例程试试
4. 实话说中英文混编，看着别扭 -- 大飞机预研时国产率目标是10%，现在的国产率是60%，还在增大。-- 一时的混用又如何？
5. 可能性有些，不过中文中多意字有些多，谁能说说“好”有几种解释？ -- 知道&quot;good&quot;的在韦氏词典里的英文解释有多少条吗? 不同语境和领域下的少说20条. 往往是因为中文比英文好, 才觉得中文一个词的意思多.
6. 操作系统和电脑要是中国人发明的就一定可以 -- 这和谁发明的有毛关系？指南针还是中国人发明的呢，现在所有罗盘上都写“东南西北”吗？
7. 用英文思维拿中文写代码那不是扯淡吗？当初用中文设计的话你用英语也不行 -- 哦，那这些编程语言让你可以用中文命名是它们2B吗？
8. 小学生全知道=是啥意思，小学生都认识kiwi吗？//@乐人说天地一号:符号也要中文 ＝换成等于
9. 因为电脑是外国人发明的，所以不用汉语编程 -- 你咋不用英文写帖子呢？
10. 如果中文编程不方便，能否用拼音？ -- DangRanKeYi（GouTou. 代码是你的，看不看得懂是你的事。
11. 只有百分百的中文才叫中国人的系统 -- 在研的大飞机国产化率多少知道吗？少来绝对化。
12. 汉语是一种语意丰富，千变万化的语言，适合文艺创作，文化传承。编程这种格式呆板，高度符号化的工作，反而过于啰嗦。所以不必强求。 -- 少玩捧杀。合同够需要严谨了吧，不照样用中文写？
13. 可以用拼音 -- 你帖子用拼音写试试？张口就来本事不小


神话
0. 汉语编程、汉语内核的操作系统和汉字加密技术绝对会成为洋骇客的超级噩梦！
-- 可烦这种外行话，你以为黑客必须要靠看源码来黑你吗？中文编程的最重要意义根本不在于防贼，而在于提高自身竞争力。
1. 中文编程不是你这样把标识符、关键字变成中文方块字就是中文编程了！你这是用中文字符的外衣装着英文编程的老酒“包装”罢了！真正的中文编程，讲究的是利用中文自然语言编程，编译器自带AI理解中文的自然语言，然后变成机器的二进制编码指令！你还自己标榜还什么高级软件工程师？扯淡吧！滚你的蛋吧！！
-- 拜托你先把市面上流行的几十种英文编程语言怼一遍: &quot;都迭代50多年了, 竟然还没有达到英文自然语言编程! 竟然还没有一点AI! 还标榜什么编程语言领路人? 扯淡吧! 还好意思出什么龙书鲸书虎书教编译原理?? 滚蛋吧!&quot; 请!


语文差达不到精准语义也就罢了，要是自己英文差却认为自己英文表达很精确，那就是自欺欺人了。</content><author><name></name></author><summary type="html">0. 为何不把关键字改成中文 1. 为何不把阿拉伯数字改成中文数字 -- 因为数字只有十个，英文单词有成千上万， 2. 键盘还是英文的 3. 中英文没区别 -- 改例程试试 4. 实话说中英文混编，看着别扭 -- 大飞机预研时国产率目标是10%，现在的国产率是60%，还在增大。-- 一时的混用又如何？ 5. 可能性有些，不过中文中多意字有些多，谁能说说“好”有几种解释？ -- 知道&quot;good&quot;的在韦氏词典里的英文解释有多少条吗? 不同语境和领域下的少说20条. 往往是因为中文比英文好, 才觉得中文一个词的意思多. 6. 操作系统和电脑要是中国人发明的就一定可以 -- 这和谁发明的有毛关系？指南针还是中国人发明的呢，现在所有罗盘上都写“东南西北”吗？ 7. 用英文思维拿中文写代码那不是扯淡吗？当初用中文设计的话你用英语也不行 -- 哦，那这些编程语言让你可以用中文命名是它们2B吗？ 8. 小学生全知道=是啥意思，小学生都认识kiwi吗？//@乐人说天地一号:符号也要中文 ＝换成等于 9. 因为电脑是外国人发明的，所以不用汉语编程 -- 你咋不用英文写帖子呢？ 10. 如果中文编程不方便，能否用拼音？ -- DangRanKeYi（GouTou. 代码是你的，看不看得懂是你的事。 11. 只有百分百的中文才叫中国人的系统 -- 在研的大飞机国产化率多少知道吗？少来绝对化。 12. 汉语是一种语意丰富，千变万化的语言，适合文艺创作，文化传承。编程这种格式呆板，高度符号化的工作，反而过于啰嗦。所以不必强求。 -- 少玩捧杀。合同够需要严谨了吧，不照样用中文写？ 13. 可以用拼音 -- 你帖子用拼音写试试？张口就来本事不小</summary></entry><entry><title type="html">中文代码之Django官方入门：建立模型</title><link href="http://localhost:4000/%E5%91%BD%E5%90%8D/hibernate/2019/05/14/%E4%B8%AD%E6%96%87%E4%BB%A3%E7%A0%81%E4%B9%8BDjango%E5%AE%98%E6%96%B9%E5%85%A5%E9%97%A8-%E5%BB%BA%E7%AB%8B%E6%A8%A1%E5%9E%8B.html" rel="alternate" type="text/html" title="中文代码之Django官方入门：建立模型" /><published>2019-05-14T00:00:00-07:00</published><updated>2019-05-14T00:00:00-07:00</updated><id>http://localhost:4000/%E5%91%BD%E5%90%8D/hibernate/2019/05/14/%E4%B8%AD%E6%96%87%E4%BB%A3%E7%A0%81%E4%B9%8BDjango%E5%AE%98%E6%96%B9%E5%85%A5%E9%97%A8:%E5%BB%BA%E7%AB%8B%E6%A8%A1%E5%9E%8B</id><content type="html" xml:base="http://localhost:4000/%E5%91%BD%E5%90%8D/hibernate/2019/05/14/%E4%B8%AD%E6%96%87%E4%BB%A3%E7%A0%81%E4%B9%8BDjango%E5%AE%98%E6%96%B9%E5%85%A5%E9%97%A8-%E5%BB%BA%E7%AB%8B%E6%A8%A1%E5%9E%8B.html">&lt;p&gt;参考&lt;a href=&quot;https://docs.djangoproject.com/zh-hans/2.2/intro/tutorial02/&quot;&gt;编写你的第一个 Django 应用，第 2 部分&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;创建项目后，首先用中文命名应用：&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ python3 manage.py startapp 投票
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;之后在&lt;code class=&quot;highlighter-rouge&quot;&gt;models.py&lt;/code&gt;建立模型，其他各种相关配置略去，详细请见末尾源码库：&lt;/p&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;datetime&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;django.db&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;django.utils&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;timezone&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;问题(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;内容&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CharField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;max_length&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;发问日期&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DateTimeField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'发布问题日期'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;__str__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;内容&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;刚发问(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;发问日期&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;timezone&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;datetime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;timedelta&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;days&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;选项(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;问题&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ForeignKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;问题&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;on_delete&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CASCADE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;内容&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CharField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;max_length&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;票数&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;IntegerField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;__str__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;内容&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;交互环境测试API通过：&lt;/p&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;python3&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;manage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;py&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;shell&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Python&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;3.7&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;7.3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ef4ec6ed12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Mar&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;25&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2019&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;52&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;21&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Clang&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;6.0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;clang&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;600.0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;57&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;darwin&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Type&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;help&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;copyright&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;credits&quot;&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;license&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;more&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;information&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;InteractiveConsole&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;投票&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;models&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;选项&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;问题&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;问题&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;objects&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;QuerySet&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;问题&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;最近可好?&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;问题&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;objects&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;QuerySet&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;问题&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;最近可好?&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;问题&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;objects&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;内容&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__startswith&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'最'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;QuerySet&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;问题&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;最近可好?&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;django.utils&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;timezone&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;今年&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;timezone&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;year&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; 
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;问题&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;objects&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;发问日期&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__year&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;今年&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;问题&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;最近可好?&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;问题&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;objects&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Traceback&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;most&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;recent&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;call&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;last&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;File&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&amp;lt;console&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;line&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;File&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/django/db/models/manager.py&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;line&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;82&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;manager_method&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;getattr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_queryset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kwargs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;File&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/django/db/models/query.py&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;line&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;408&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;
    &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_meta&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;object_name&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;投票&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;问题&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DoesNotExist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;问题&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;matching&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;does&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;exist&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;问问&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;问&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;问题&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;objects&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pk&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;问&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;刚发问&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;问&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;选项&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_set&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;QuerySet&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;问&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;选项&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_set&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;内容&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'没啥'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;票数&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;选项&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;没啥&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;问&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;选项&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_set&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;内容&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'看天'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;票数&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;选项&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;看天&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;选&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;问&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;选项&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_set&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;内容&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'打字'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;票数&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;选&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;问题&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;问题&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;最近可好?&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;问&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;选项&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_set&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;QuerySet&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;选项&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;没啥&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;选项&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;看天&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;选项&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;打字&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;问&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;选项&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_set&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;选项&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;objects&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;问题&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;发问日期&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__year&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;今年&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;QuerySet&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;选项&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;没啥&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;选项&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;看天&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;选项&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;打字&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;选&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;问&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;选项&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_set&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;内容&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__startswith&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'打'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;选&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;delete&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'投票.选项'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;选项&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;objects&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;问题&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;发问日期&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__year&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;今年&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;QuerySet&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;选项&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;没啥&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;选项&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;看天&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;完整源码在：&lt;a href=&quot;https://github.com/program-in-chinese/Django_tutorial_zh&quot;&gt;program-in-chinese/Django_tutorial_zh&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;测试环境：Python 3.7.3, Django-2.2.3, Mac&lt;/p&gt;</content><author><name></name></author><summary type="html">参考编写你的第一个 Django 应用，第 2 部分</summary></entry></feed>